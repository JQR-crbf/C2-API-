# ç®¡ç†å‘˜å®¡æ ¸åŠŸèƒ½æµ‹è¯•æŒ‡å—

## åŠŸèƒ½æ¦‚è¿°
ç®¡ç†å‘˜å®¡æ ¸åŠŸèƒ½å·²æˆåŠŸå®ç°ï¼Œå…è®¸ç®¡ç†å‘˜å¯¹å¤„äº"ç®¡ç†å‘˜å®¡æ ¸"çŠ¶æ€çš„ä»»åŠ¡è¿›è¡Œé€šè¿‡æˆ–æ‹’ç»æ“ä½œã€‚

## æµ‹è¯•æ­¥éª¤

### 1. ç¡®è®¤ç®¡ç†å‘˜èº«ä»½
- ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•ç³»ç»Ÿï¼ˆç”¨æˆ·åï¼šjinqianruï¼Œå¯†ç ï¼š123456ï¼‰
- ç¡®è®¤ç”¨æˆ·è§’è‰²ä¸º admin

### 2. è®¿é—®ä»»åŠ¡è¯¦æƒ…é¡µé¢
- æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000/tasks/4
- ç‚¹å‡»"è¿›åº¦"æ ‡ç­¾é¡µ
- æŸ¥çœ‹ä»»åŠ¡å·¥ä½œæµç¨‹

### 3. æµ‹è¯•å®¡æ ¸åŠŸèƒ½

#### 3.1 å®¡æ ¸é€šè¿‡æµ‹è¯•
1. åœ¨"ç®¡ç†å‘˜å®¡æ ¸"æ­¥éª¤ä¸­ï¼Œç‚¹å‡»ç»¿è‰²çš„"é€šè¿‡"æŒ‰é’®
2. ç³»ç»Ÿåº”æ˜¾ç¤ºæˆåŠŸæç¤º
3. ä»»åŠ¡çŠ¶æ€åº”æ›´æ–°ä¸º"å·²éƒ¨ç½²"
4. å·¥ä½œæµç¨‹åº”è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€æ­¥

#### 3.2 å®¡æ ¸æ‹’ç»æµ‹è¯•
1. åœ¨"ç®¡ç†å‘˜å®¡æ ¸"æ­¥éª¤ä¸­ï¼Œç‚¹å‡»çº¢è‰²çš„"æ‹’ç»"æŒ‰é’®
2. ç³»ç»Ÿå¼¹å‡ºæ‹’ç»ç†ç”±å¯¹è¯æ¡†
3. è¾“å…¥æ‹’ç»ç†ç”±ï¼ˆå¿…å¡«ï¼‰ï¼Œä¾‹å¦‚ï¼š"ä»£ç æœ‰bugï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ"
4. ç‚¹å‡»"ç¡®è®¤æ‹’ç»"æŒ‰é’®
5. ç³»ç»Ÿåº”æ˜¾ç¤ºæˆåŠŸæç¤º
6. ä»»åŠ¡çŠ¶æ€åº”å›é€€åˆ°"ä»£ç ç”Ÿæˆä¸­"

### 4. éªŒè¯æ•°æ®æŒä¹…åŒ–

#### 4.1 æ£€æŸ¥ä»»åŠ¡çŠ¶æ€
```bash
# åœ¨backendç›®å½•ä¸‹è¿è¡Œ
python -c "from database import get_db; from models import Task; db = next(get_db()); task = db.query(Task).filter(Task.id == 4).first(); print(f'Task {task.id}: status={task.status.value}, admin_comment={task.admin_comment}')"
```

#### 4.2 æ£€æŸ¥ä»»åŠ¡æ—¥å¿—
```bash
# æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—è®°å½•
python -c "from database import get_db; from models import TaskLog; db = next(get_db()); logs = db.query(TaskLog).filter(TaskLog.task_id == 4).order_by(TaskLog.created_at.desc()).limit(3).all(); [print(f'{log.created_at}: {log.message}') for log in logs]"
```

#### 4.3 æ£€æŸ¥é€šçŸ¥è®°å½•
```bash
# æŸ¥çœ‹ç›¸å…³é€šçŸ¥
python -c "from database import get_db; from models import Notification; db = next(get_db()); notifications = db.query(Notification).filter(Notification.task_id == 4).order_by(Notification.created_at.desc()).limit(2).all(); [print(f'{n.title}: {n.content}') for n in notifications]"
```

### 5. åˆ·æ–°é¡µé¢æµ‹è¯•
1. æ‰§è¡Œå®¡æ ¸æ“ä½œåï¼Œåˆ·æ–°æµè§ˆå™¨é¡µé¢
2. ç¡®è®¤ä»»åŠ¡çŠ¶æ€å’Œå®¡æ ¸è®°å½•ä»ç„¶ä¿æŒ
3. éªŒè¯æ•°æ®æ²¡æœ‰ä¸¢å¤±

## åŠŸèƒ½ç‰¹ç‚¹

### âœ… å·²å®ç°çš„åŠŸèƒ½
- **æƒé™æ§åˆ¶**ï¼šåªæœ‰ç®¡ç†å‘˜ç”¨æˆ·æ‰èƒ½çœ‹åˆ°å®¡æ ¸æŒ‰é’®
- **çŠ¶æ€éªŒè¯**ï¼šåªæœ‰å¤„äº"under_review"çŠ¶æ€çš„ä»»åŠ¡æ‰èƒ½è¿›è¡Œå®¡æ ¸
- **æ“ä½œåé¦ˆ**ï¼šé€šè¿‡å’Œæ‹’ç»æ“ä½œéƒ½æœ‰ç›¸åº”çš„toastæç¤º
- **æ•°æ®æŒä¹…åŒ–**ï¼šå®¡æ ¸ç»“æœã€çŠ¶æ€å˜æ›´ã€æ—¥å¿—è®°å½•éƒ½ä¼šä¿å­˜åˆ°æ•°æ®åº“
- **æµç¨‹æ§åˆ¶**ï¼šé€šè¿‡åè¿›å…¥éƒ¨ç½²å®ŒæˆçŠ¶æ€ï¼Œæ‹’ç»åå›åˆ°ä»£ç ç”ŸæˆçŠ¶æ€
- **é€šçŸ¥ç³»ç»Ÿ**ï¼šå®¡æ ¸ç»“æœä¼šè‡ªåŠ¨å‘é€é€šçŸ¥ç»™ä»»åŠ¡åˆ›å»ºè€…
- **å¿…å¡«éªŒè¯**ï¼šæ‹’ç»æ“ä½œå¿…é¡»å¡«å†™æ‹’ç»ç†ç”±

### ğŸ”§ æŠ€æœ¯å®ç°
- **åç«¯API**ï¼š`POST /api/admin/tasks/{task_id}/review`
- **å‚æ•°ä¼ é€’**ï¼šä½¿ç”¨URLæŸ¥è¯¢å‚æ•°ä¼ é€’actionå’Œcomment
- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨React hooksç®¡ç†åŠ è½½çŠ¶æ€å’Œå¯¹è¯æ¡†çŠ¶æ€
- **é”™è¯¯å¤„ç†**ï¼šå®Œæ•´çš„é”™è¯¯æ•è·å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

## æ•…éšœæ’é™¤

### å¦‚æœé‡åˆ°422é”™è¯¯
1. æ£€æŸ¥ä»»åŠ¡çŠ¶æ€æ˜¯å¦ä¸º"under_review"
2. ç¡®è®¤ç”¨æˆ·æ˜¯å¦å…·æœ‰ç®¡ç†å‘˜æƒé™
3. æ‹’ç»æ“ä½œæ—¶ç¡®ä¿å¡«å†™äº†æ‹’ç»ç†ç”±

### é‡ç½®ä»»åŠ¡çŠ¶æ€ï¼ˆç”¨äºæµ‹è¯•ï¼‰
```bash
# å°†ä»»åŠ¡4é‡æ–°è®¾ç½®ä¸ºå®¡æ ¸çŠ¶æ€
python -c "from database import get_db; from models import Task, TaskStatus; db = next(get_db()); task = db.query(Task).filter(Task.id == 4).first(); task.status = TaskStatus.UNDER_REVIEW; db.commit(); print('Task status reset to under_review')"
```

## æ³¨æ„äº‹é¡¹
1. å®¡æ ¸æ“ä½œæ˜¯ä¸å¯é€†çš„ï¼Œè¯·è°¨æ…æ“ä½œ
2. æ‹’ç»ç†ç”±ä¼šå‘é€ç»™ä»»åŠ¡åˆ›å»ºè€…ï¼Œè¯·å¡«å†™æœ‰æ„ä¹‰çš„å†…å®¹
3. å®¡æ ¸è®°å½•ä¼šæ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­
4. é¡µé¢åˆ·æ–°ä¸ä¼šä¸¢å¤±å®¡æ ¸çŠ¶æ€å’Œè®°å½•